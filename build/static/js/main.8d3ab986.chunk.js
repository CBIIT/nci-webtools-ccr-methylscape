(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{152:function(e,t){},239:function(e,t,a){e.exports=a(852)},851:function(e,t,a){},852:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(10),c=a(81),l=a(82),o=a(54),s=a(219),u=a(220),d=a.n(u),h=a(89),p={count:0,isIncrementing:!1,isDecrementing:!1},m=Object(o.c)({counter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;switch((arguments.length>1?arguments[1]:void 0).type){case"counter/INCREMENT_REQUESTED":return Object(h.a)({},e,{isIncrementing:!0});case"counter/INCREMENT":return Object(h.a)({},e,{count:e.count+1,isIncrementing:!e.isIncrementing});case"counter/DECREMENT_REQUESTED":return Object(h.a)({},e,{isDecrementing:!0});case"counter/DECREMENT":return Object(h.a)({},e,{count:e.count-1,isDecrementing:!e.isDecrementing});default:return e}}}),f=d()(),g=[s.a,Object(l.routerMiddleware)(f)],j=o.d.apply(void 0,[o.a.apply(void 0,g)].concat([])),v=Object(o.e)(Object(l.connectRouter)(f)(m),{},j),E=a(32),b=a(33),w=a(36),y=a(34),S=a(37),x=a(19),O=a.n(x),I=a(29),C=a(856),k=a(73),D=function(e){var t=e.data,a=e.index,r=e.createArc,i=e.colors,c=e.format;return n.a.createElement("g",{key:a,className:"arc"},n.a.createElement("path",{className:"arc",d:r(t),fill:i(a)}),n.a.createElement("text",{transform:"translate(".concat(r.centroid(t),")"),textAnchor:"middle",alignmentBaseline:"middle",fill:"white",fontSize:"10"},c(t.value)))},P=function(e){var t=k.c().value(function(e){return e.value}).sort(null),a=k.a().innerRadius(e.innerRadius).outerRadius(e.outerRadius),r=k.d(k.e),i=k.b(".2f"),c=t(e.data);return n.a.createElement("svg",{width:e.width,height:e.height},n.a.createElement("g",{transform:"translate(".concat(e.outerRadius," ").concat(e.outerRadius,")")},c.map(function(e,t){return n.a.createElement(D,{key:t,data:e,index:t,createArc:a,colors:r,format:i})})))},T=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(w.a)(this,Object(y.a)(t).call(this,e))).filterData=function(e,t){a.setState({filteredData:t.filter(function(t,a){return t.key=a,t.project.toLowerCase().includes(e.toLowerCase())})})},a.getPieData=function(){var e={},t=[];return a.state.filteredData.map(function(t){Object.values(t.classifier_prediction).forEach(function(t){Object.keys(t).forEach(function(t){e[t]=e[t]+1||1})})}),Object.keys(e).forEach(function(a){t.push({label:a,value:e[a]})}),t},a.state={project:"",filteredData:[]},a}return Object(S.a)(t,e),Object(b.a)(t,[{key:"componentWillReceiveProps",value:function(e){""==e.project?(this.setState({project:e.data[1].project}),this.filterData(e.data[1].project,e.data)):(this.setState({project:e.project}),this.filterData(e.project,e.data)),this.getPieData()}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("h3",null,"Project summery: ",this.state.project),n.a.createElement("div",null,n.a.createElement(P,{data:this.getPieData(),width:"100",heigth:"100",innerRadius:10,outerRadius:50})))}}]),t}(n.a.Component),F=a(87),M=a(857),N=a(855),R=a(56),z=a(854),A=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(w.a)(this,Object(y.a)(t).call(this,e))).createDataTable=function(){var e=Object(I.a)(O.a.mark(function e(t){var r;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r={},t.map(function(e){var t=e.experiment;null==t||(t in r?r[t].sampleSize=r[t].sampleSize+1:r[t]={key:t,project:e.project,sampleSize:1,date:e.date,investigator:e.investigator,experiment:t})}),a.setState({data:Object.values(r)}),a.setState({filteredData:Object.values(r)});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.handleFilter=function(){console.log("2-------------",a.state.data),a.setState({filteredData:a.state.data.filter(function(e){return e.project.toLowerCase().includes(a.getFilterProject())})})},a.getFilterProject=function(){return a.state.filterProject?a.state.filterProject.toLowerCase():""},a.state={filterProject:e.filter.project,filterDate:"",loading:!0,pagination:{position:"bottom",size:5,showSizeChanger:!0},rawData:e.data,data:[],filteredData:[]},a}return Object(S.a)(t,e),Object(b.a)(t,[{key:"componentWillReceiveProps",value:function(){var e=Object(I.a)(O.a.mark(function e(t){var a=this;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Experiment receive prop",t),t.filter.project&&this.setState({filterProject:t.filter.project},function(){a.handleFilter()});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(I.a)(O.a.mark(function e(){var t=this;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.createDataTable(this.state.rawData).then(function(){t.setState({loading:!1}),t.handleFilter()});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=[{title:"Project",dataIndex:"key",sorter:!0,width:"20%",render:function(t,a){return n.a.createElement("a",{onClick:function(){return e.props.changeTab("projects",{project:a.project})}},a.project)}},{title:"Experiment",dataIndex:"experiment",sorter:!0,width:"20%"},{title:"Investigator Name",dataIndex:"investigator",sorter:!0,width:"10%"},{title:"# of samples",dataIndex:"sampleSize",sorter:!0,width:"10%",render:function(t,a){return n.a.createElement("a",{onClick:function(){return e.props.changeTab("samples",{project:a.project})}},t)}},{title:"Date created",dataIndex:"date",sorter:!0,width:"10%"},{title:"QC Sheet",sorter:!0,width:"20%",render:function(e){return n.a.createElement("a",{href:"..."},"show detials")}},{title:"QC supplementary",sorter:!0,width:"20%",render:function(e){return n.a.createElement("a",{href:"..."},"show detials")}}];F.a.Option,M.a.Group;return n.a.createElement("div",null,n.a.createElement("br",null),n.a.createElement("div",null,n.a.createElement(N.a,{layout:"inline"},n.a.createElement(N.a.Item,{label:"Project"},n.a.createElement(M.a,{value:this.state.filterProject,onChange:function(t){return e.setState({filterProject:t.target.value})},placeholder:"MethylScape",onPressEnter:this.handleFilter})),n.a.createElement(N.a.Item,{label:"Experiments"},n.a.createElement(M.a,{value:this.state.filterExperiment,onChange:function(t){return e.setState({filterProject:t.target.value})},placeholder:"MethylScape",onPressEnter:this.handleFilter})),n.a.createElement(N.a.Item,{label:"Date"},n.a.createElement(M.a,{value:this.state.filterDate,onChange:function(t){return e.setState({filterDate:t.target.value})},onPressEnter:this.handleFilter,placeholder:"Jane Doe"})),n.a.createElement(N.a.Item,null,n.a.createElement(R.a,{icon:"search",type:"primary",onClick:this.handleFilter},"Search")))),n.a.createElement("br",null),n.a.createElement("div",null,n.a.createElement(z.a,Object.assign({},this.state,{columns:t,dataSource:this.state.filteredData,onChange:this.handleTableChange}))))}}]),t}(n.a.Component),L=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(w.a)(this,Object(y.a)(t).call(this,e))).createDataTable=function(){var e=Object(I.a)(O.a.mark(function e(t){var r;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:({}),r=t.map(function(e){e.key=e.id;var t=e.classifier_prediction;return e.family=a.getMF(t),e.family_score=a.getMFScore(t),e.class=a.getMC(t),e.class_score=a.getMCScore(t),e}),a.setState({data:r}),a.setState({filteredData:r});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.handleFilter=function(){a.setState({filteredData:a.state.data.filter(function(e){return e.project.toLowerCase().includes(a.getFilterProject())})})},a.getFilterProject=function(){return a.state.filterProject?a.state.filterProject.toLowerCase():""},a.getMF=function(e){return Object.keys(e).length>2?Object.keys(e[0]):""},a.getMFScore=function(e){return Object.values(e).length>2?Object.values(e[0]):""},a.getMC=function(e){var t=Object.keys(e).length;return t>2?Object.keys(e[2])[0]:2==t?Object.keys(e[1])[0]:""},a.getMCScore=function(e){var t=Object.keys(e).length;return t>2?Object.values(e[2])[0]:2==t?Object.values(e[1])[0]:""},a.state={filterSample:"",filterProject:e.filter.project,filterSentrixID:"",loading:!0,pagination:{position:"bottom",size:5,showSizeChanger:!0},rawData:e.data,data:[],filteredData:[]},a}return Object(S.a)(t,e),Object(b.a)(t,[{key:"componentWillReceiveProps",value:function(){var e=Object(I.a)(O.a.mark(function e(t){var a=this;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.filter.project&&this.setState({filterProject:t.filter.project},function(){a.handleFilter()});case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(I.a)(O.a.mark(function e(){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.createDataTable(this.state.rawData).then(this.setState({loading:!1}));case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=[{title:"Sample Name",dataIndex:"sample_name",sorter:!0,width:"300",fixed:"left"},{title:"Project",dataIndex:"project",sorter:!0,width:"300"},{title:"Experiment",dataIndex:"experiment",sorter:!0,width:"300",render:function(t,a){return n.a.createElement("a",{onClick:function(){return e.props.changeTab("experiments",{project:a.project})}},t)}},{title:"Date",dataIndex:"date",sorter:!0,width:"200"},{title:"Surgical Case",dataIndex:"surgical_case",sorter:!0,width:"200"},{title:"Gender",dataIndex:"gender",sorter:!0,width:"200"},{title:"Age",dataIndex:"age",sorter:!0,width:"200"},{title:"Diagnosis",dataIndex:"diagnosis",sorter:!0,width:"200"},{title:"Methylation Family (MF)",dataIndex:"family",sorter:!0,width:"200"},{title:"MF Calibrated Scores",dataIndex:"family_score",sorter:!0,width:"200"},{title:"Methylation Class (MC)",dataIndex:"class",sorter:!0,width:"200"},{title:"MC Calibrated Scores",dataIndex:"class_score",sorter:!0,width:"200"},{title:"MGMT status",dataIndex:"mgmt_prediction.Status",sorter:!0,width:"200"},{title:"MGMT score",dataIndex:"mgmt_prediction.Estimated",sorter:!0,width:"200"},{title:"t-SNE plot",dataIndex:"",sorter:!0,width:"200",render:function(e){return n.a.createElement("a",{href:"..."},"link to html")}},{title:"NGS reports (pdf-files)",dataIndex:"",sorter:!0,width:"200",render:function(e){return n.a.createElement("a",{href:"..."},"link to pdf")}},{title:"Slide Image",dataIndex:"",sorter:!0,width:"200",render:function(e){return n.a.createElement("a",{href:"..."},"link to image file")}},{title:"Notes",dataIndex:"notes",sorter:!0,width:"200"}];F.a.Option,M.a.Group;return n.a.createElement("div",null,n.a.createElement("br",null),n.a.createElement("div",null,n.a.createElement(N.a,{layout:"inline"},n.a.createElement(N.a.Item,{label:"Project"},n.a.createElement(M.a,{value:this.state.filterProject,onChange:function(t){return e.setState({filterProject:t.target.value})},placeholder:"MethylScape",onPressEnter:this.handleFilter})),n.a.createElement(N.a.Item,{label:"Sample"},n.a.createElement(M.a,{value:this.state.filterSample,onChange:function(t){return e.setState({filterSample:t.target.value})},placeholder:"Sample",onPressEnter:this.handleFilter})),n.a.createElement(N.a.Item,{label:"Sentrix ID"},n.a.createElement(M.a,{value:this.state.filterSentrixID,onChange:function(t){return e.setState({filterSentrixID:t.target.value})},onPressEnter:this.handleFilter,placeholder:"ABD123"})),n.a.createElement(N.a.Item,null,n.a.createElement(R.a,{icon:"search",type:"primary",onClick:this.handleFilter},"Search")))),n.a.createElement("br",null),n.a.createElement("div",null,n.a.createElement(z.a,Object.assign({},this.state,{columns:t,dataSource:this.state.filteredData,onChange:this.handleTableChange,scroll:{x:3500}}))))}}]),t}(n.a.Component),_=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(w.a)(this,Object(y.a)(t).call(this,e))).createDataTable=function(){var e=Object(I.a)(O.a.mark(function e(t){var r;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r={},t.map(function(e){var t=e.project;null==t||(t in r?(r[t].sampleSize=r[t].sampleSize+1,r[t].experiments.add(e.experiment)):(r[t]={key:t,project:t,sampleSize:1,date:e.date,investigator:e.investigator,experiments:new Set([])},r[t].experiments.add(e.experiment)))}),a.setState({data:Object.values(r)}),a.setState({filteredData:Object.values(r)});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.handleFilter=function(){console.log("Handle filter in project",a.state.data),a.setState({filteredData:a.state.data.filter(function(e){return e.project.toLowerCase().includes(a.getFilterProject())&&e.investigator.toLowerCase().includes(a.state.filterInvestigator.toLowerCase())})},a.setState({loading:!1}))},a.getFilterProject=function(){return a.state.filterProject?a.state.filterProject.toLowerCase():""},a.state={filterProject:a.props.filter.project,filterInvestigator:"",loading:!0,pagination:{position:"bottom",size:5,showSizeChanger:!0},data:[],filteredData:[],rawData:e.data},a}return Object(S.a)(t,e),Object(b.a)(t,[{key:"componentWillReceiveProps",value:function(){var e=Object(I.a)(O.a.mark(function e(t){var a=this;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Project Recieve prop",t),this.createDataTable(t.data),t.filter.project?this.setState({filterProject:t.filter.project},function(){a.handleFilter()}):this.handleFilter();case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=[{title:"Project",dataIndex:"key",sorter:!0,width:"20%",render:function(t,a){return n.a.createElement("a",{onClick:function(){return e.props.changeSummeryPorject(a.project)}},t)}},{title:"Investigator Name",dataIndex:"investigator",sorter:!0,width:"20%"},{title:"# of Experiments",dataIndex:"experiments",sorter:!0,width:"20%",render:function(t,a){return n.a.createElement("a",{onClick:function(){return e.props.changeTab("experiments",{project:a.project})}},a.experiments.size)}},{title:"# of Samples",dataIndex:"sampleSize",sorter:!0,width:"20%",render:function(t,a){return n.a.createElement("a",{onClick:function(){return e.props.changeTab("samples",{project:a.project})}},t)}},{title:"Project Date",dataIndex:"date",sorter:!0,width:"15%"}];return n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement("br",null),n.a.createElement(N.a,{layout:"inline"},n.a.createElement(N.a.Item,{label:"Project"},n.a.createElement(M.a,{value:this.state.filterProject,onChange:function(t){return e.setState({filterProject:t.target.value})},placeholder:"MethylScape",onPressEnter:this.handleFilter})),n.a.createElement(N.a.Item,{label:"Investigator"},n.a.createElement(M.a,{value:this.state.filterInvestigator,onChange:function(t){return e.setState({filterInvestigator:t.target.value})},onPressEnter:this.handleFilter,placeholder:"Jane Doe"})),n.a.createElement(N.a.Item,null,n.a.createElement(R.a,{icon:"search",type:"primary",onClick:this.handleFilter},"Search")))),n.a.createElement("br",null),n.a.createElement(z.a,Object.assign({},this.state,{columns:t,dataSource:this.state.filteredData,onChange:this.handleTableChange})),n.a.createElement("br",null))}}]),t}(n.a.Component),K=a(159),G=a.n(K),H=C.a.TabPane,U=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(w.a)(this,Object(y.a)(t).call(this,e))).changeTab=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a.filter!={}&&a.setState({filter:t}),a.setState({activeTab:e})},a.changeSummeryPorject=function(e){a.setState({projectSummery:e})},a.state={activeTab:"projects",data:[],filter:{project:"",experiment:""},projectSummery:""},a}return Object(S.a)(t,e),Object(b.a)(t,[{key:"scanTable",value:function(){var e=Object(I.a)(O.a.mark(function e(t){var a,r,n,i;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:G.a.config.update({region:"us-east-1",accessKeyId:"AKIA3VFBLQNOE7Y4LDUU",secretAccessKey:"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"}),a=new G.a.DynamoDB.DocumentClient({apiVersion:"2012-08-10"}),r={TableName:t},n=[];case 4:return e.next=6,a.scan(r).promise();case 6:(i=e.sent).Items.forEach(function(e){return n.push(e)}),r.ExclusiveStartKey=i.LastEvaluatedKey;case 9:if("undefined"!=typeof i.LastEvaluatedKey){e.next=4;break}case 10:return e.abrupt("return",n);case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(I.a)(O.a.mark(function e(){var t=this;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log("AWS_TEST"),this.scanTable("MethylscapeSamples-prod").then(function(e){t.setState({data:e}),t.setState({loading:!1})});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(C.a,{activeKey:this.state.activeTab,onChange:this.changeTab,defaultActiveKey:"project"},n.a.createElement(H,{tab:"Project",key:"projects"},n.a.createElement(_,{data:this.state.data,changeTab:this.changeTab,filter:this.state.filter,changeSummeryPorject:this.changeSummeryPorject}),n.a.createElement(T,{data:this.state.data,project:this.state.projectSummery,changeSummeryPorject:this.changeSummeryPorject})),n.a.createElement(H,{tab:"Experiments",key:"experiments"},n.a.createElement(A,{data:this.state.data,changeTab:this.changeTab,filter:this.state.filter})),n.a.createElement(H,{tab:"Samples",key:"samples"},n.a.createElement(L,{data:this.state.data,changeTab:this.changeTab,filter:this.state.filter}))))}}]),t}(n.a.Component),J=Object(c.connect)()(U),Q=a(853),W=function(){return n.a.createElement("div",null,n.a.createElement("a",{href:"http://www.cancer.gov/global/web/policies"},"Policies"),n.a.createElement("span",null," | "),n.a.createElement("a",{href:"http://www.cancer.gov/global/web/policies/accessibility"},"Accessibility"),n.a.createElement("span",null," | "),n.a.createElement("a",{href:"http://www.cancer.gov/global/web/policies/foia"},"FOIA"),n.a.createElement("span",null," | "),n.a.createElement("a",{href:"http://get.adobe.com/reader/"},"Get Adobe Reader"),n.a.createElement("br",null),n.a.createElement("a",{href:"http://www.nih.gov"},"National Institutes of Health"),n.a.createElement("span",null," | "),n.a.createElement("a",{href:"http://www.cancer.gov"},"National Cancer Institute"),n.a.createElement("span",null," | "),n.a.createElement("a",{href:"http://www.usa.gov"},"USA.gov"),n.a.createElement("br",null),n.a.createElement("p",null,"NIH....Turning Discovery into Health\xae"))},B=Q.a.Header,V=Q.a.Content,q=Q.a.Footer,Y=function(e){function t(){var e,a;Object(E.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(w.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(n)))).state={current:"home"},a.handleClick=function(e){console.log("click ",e),a.setState({current:e.key})},a}return Object(S.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(Q.a,null,n.a.createElement(B,{className:"header",style:{height:"60px",theme:"light",background:"#fff",position:"fixed",zIndex:1,width:"100%",padding:"0 50px"}},n.a.createElement("div",null," ",n.a.createElement("a",{href:"https://ccr.cancer.gov/"},n.a.createElement("img",{className:"logo",src:"/assets/img/nci-ccr-logo.png",alt:"National Cancer Institute"})))),n.a.createElement(V,{style:{padding:"10px 50px",marginTop:64,height:"100%"}},n.a.createElement("div",{style:{background:"#fff",padding:24,minHeight:380}},n.a.createElement(J,null))),n.a.createElement(q,{style:{textAlign:"center"}},n.a.createElement(W,null))))}}]),t}(n.a.Component),Z=(a(850),a(851),document.querySelector("#root"));Object(i.render)(n.a.createElement(c.Provider,{store:v},n.a.createElement(l.ConnectedRouter,{history:f},n.a.createElement("div",null,n.a.createElement(Y,null)))),Z)}},[[239,1,2]]]);
//# sourceMappingURL=main.8d3ab986.chunk.js.map